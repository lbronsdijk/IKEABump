Modernizr.load({load:["resources/js/vendor/vendor.min.js"],complete:function(){logger.enableLogger(),this.app.initialize()}});var app={initialize:function(){shopping.initialize(),app.currentTime(0),$(document).ready(function(){$(function(){FastClick.attach(document.body)}),$("img.svg").each(function(){var n=jQuery(this),t=n.attr("id"),e=n.attr("class"),i=n.attr("src");jQuery.get(i,function(i){var o=jQuery(i).find("svg");"undefined"!=typeof t&&(o=o.attr("id",t)),"undefined"!=typeof e&&(o=o.attr("class",e+" replaced-svg")),o=o.removeAttr("xmlns:a"),n.replaceWith(o)},"xml")}),$(".splashscreen").click(function(){$(this).fadeOut(function(){this.remove()})}),$(".navigation-icon").click(function(){$(".navigation-container").fadeToggle("fast","linear",function(){}),$(".app-container").toggleClass("blur")}),$(".lost").click(function(){$(".lost, .food").removeClass("bounceIn").addClass("bounceOut"),$(".lost").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(".spinner").show(),setTimeout(function(){$(".spinner").hide(0,"",function(){$(".find-bumpie").show()})},3e3)})}),$(".food").click(function(){window.open("http://wessalicious.com/wp-content/uploads/2014/12/Vegetarische-zweedse-balletjes2.jpg")})})},currentTime:function(n){setTimeout(function(){var n=new Date,t=n.getHours()+":"+n.getMinutes();$(".time span").html(t),app.currentTime(6e4)},n)}},shopping={initialize:function(){var n,t=0;this.productsContainer=$(".swiper-container"),this.productsWrapper=$(".swiper-wrapper"),this.productSlider=this.productsContainer.swiper({mode:"horizontal",loop:!1});var e=this.productSlider;this.productSlider.removeAllSlides(),$.ajax({type:"GET",async:!1,url:"resources/products.json",dataType:"json",contentType:"application/json",success:function(t){n=t},error:function(n,t,e){console.log("Request shoppinglist failed: "+e)}}),$.each(n.slice(0,4),function(){var n='<div class="swiper-slide" id="'+this.id+'"><span class="product-name">'+this.name+'</span><div class="mask"><img src="resources/images/'+this.image+'"></div><span class="price">€'+this.price.amount+" <small>p.s.</small></span></div>";e.appendSlide(n),t+=parseFloat(this.price.amount.replace(",","."))}),console.log("All products inserted"),this.totalAmount=this.updateTotalAmount(t),this.json=n},removeItem:function(n){return"undefined"==typeof n?(console.log("No id entered"),!1):this.json[n]?($(".swiper-slide#"+n).addClass("animated bounceOut"),$(".swiper-slide#"+n).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){this.productSlider.slidePrev(),this.productSlider.removeSlide(n),console.log("Product item "+n+" removed"),itemAmount=parseFloat(this.json[n].price.amount.replace(",",".")),this.totalAmount=this.updateTotalAmount((parseFloat(this.totalAmount)-parseFloat(itemAmount)).toFixed(2))}.bind(this)),!0):(console.log("Entry "+n+" not found"),!1)},addItem:function(n){if("undefined"==typeof n)return console.log("No id entered"),!1;if(!this.json[n])return console.log("Entry "+n+" not found"),!1;var t='<div class="swiper-slide" id="'+this.json[n].id+'"><span class="product-name">'+this.json[n].name+'</span><div class="mask"><img src="resources/images/'+this.json[n].image+'"></div><span class="price">€'+this.json[n].price.amount+" <small>p.s.</small></span></div>";return this.productSlider.appendSlide(t),$(".swiper-slide#"+this.productSlider.slides.length).hide(0),itemAmount=parseFloat(this.json[n].price.amount.replace(",",".")),this.totalAmount=this.updateTotalAmount((parseFloat(this.totalAmount)+parseFloat(itemAmount)).toFixed(2)),this.productSlider.slideTo(this.productSlider.slides.length),this.productsWrapper.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(".swiper-slide#"+this.productSlider.slides.length).addClass("animated bounceIn")}.bind(this)),console.log("Product item "+n+" added"),!0},updateTotalAmount:function(n){return $(".total-price").html("€ "+n.toString().replace(".",",")),console.log("Amount updated: €"+n),n}},logger=function(){var n=null,t={};return t.enableLogger=function(){null!==n&&(window.console.log=n)},t.disableLogger=function(){n=console.log,window.console.log=function(){}},t}();